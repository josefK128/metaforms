"use strict";angular.module("app",[]).run(["$timeout",function(o){console.log("app running!");new MutationSummary({queries:[{attribute:"collection"},{attribute:"style"}],rootNode:document.getElementById("body"),callback:function(o){var e=o[0],t=o[1],l=!0,n=!1,r=void 0;try{for(var a=void 0,i=e.valueChanged[Symbol.iterator]();!(l=(a=i.next()).done);l=!0){var c=a.value,u=void 0;console.log("collection changed"),u=c.getAttribute("collection"),console.log("*** node.collection is:"),console.dir(u)}}catch(d){n=!0,r=d}finally{try{l||null==i["return"]||i["return"]()}finally{if(n)throw r}}var y=!0,g=!1,v=void 0;try{for(var s=void 0,f=t.valueChanged[Symbol.iterator]();!(y=(s=f.next()).done);y=!0){var b=s.value;console.log("style changed"),console.log("*** node.style.background = "+b.style.background)}}catch(h){g=!0,v=h}finally{try{y||null==f["return"]||f["return"]()}finally{if(g)throw v}}}})}]);
"use strict";angular.module("app").directive("collection",["$compile",function(e){return{restrict:"E",replace:!0,scope:{collection:"="},template:"<ul><member ng-repeat='member in collection' member='member'></member></ul>",link:function(e,l,c){console.log("collection link-f")}}}]);
"use strict";angular.module("app").directive("member",["$compile",function(e){return{restrict:"E",replace:!0,scope:{member:"="},template:"<li>{{member.name}}</li>",link:function(l,r,n){console.log("member link-f");var c='<collection collection="member.children"></collection>';angular.isArray(l.member.children)&&e(c)(l,function(e,l){r.append(e)})}}}]);
"use strict";angular.module("app").controller("narrative",["$scope","$timeout","Models",function(e,o,t){console.log("Narrative controller starting");var n,r;e.tasks=t.model("europe"),console.log("narrative: scope properties:");for(r in e)e.hasOwnProperty(r)&&console.log("scope has property "+r);e.$watch("tasks",function(e,o){console.log("*** narrative: scope.tasks change!"),e!==o&&(console.log("*** narrative: node.collection is:"),console.dir(e))}),n=JSON.stringify(t.model("namerica")),o(function(){document.getElementById("narrative").style.background="red",o(function(){document.getElementById("model").setAttribute("collection",n),e.tasks=JSON.parse(n)},1e3)},1e4)}]);
"use strict";angular.module("app").factory("Log",["config",function(n){console.log("Log service initializing");var o,t,i=function(){function o(){}return $traceurRuntime.createClass(o,{log:function(o){n.log&&t.emit("log",o)},set_mediator:function(n){t=n}},{})}();return o||(o=new i),o}]);
"use strict";angular.module("app").factory("Models",function(){console.log("Models service initializing");var e,n={europe:[{name:"Europe",children:[{name:"Italy",children:[{name:"Rome"},{name:"Milan"}]},{name:"Spain",children:[{name:"Barcelona",children:[{name:"aba"},{name:"aca",children:[{name:"xfgtyu"}]}]}]}]},{name:"South America",children:[{name:"Brasil"},{name:"Peru"}]}],namerica:[{name:"NAmerica",children:[{name:"Idaho",children:[{name:"Hope"},{name:"Post Falls"}]}]}]},a=function(){function e(){}return $traceurRuntime.createClass(e,{model:function(e){return n[e]||[]}},{})}();return e||(e=Object.seal(new a)),e});